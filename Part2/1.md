# 自定义属性

### 一、使用场景

对现有组件定制可以用自定义属性，在模版上添加配置，在组件内读取props里面的injectAttr可以拿到配置的属性。

### 二、使用说明

1、需要先组件加个高阶 `InjectCustomAttr`

```
import { InjectCustomAttr } from '&commonHoc'; //原始项目直接取
const { InjectCustomAttr } = window.__sdkcommonUtils; //分离项目在window上取

const Comp = handleDataJson(mockData)((props) => {
	...
});
export default InjectCustomAttr(Comp)
```

2、还需要开启开发者模式，在url链接上拼上&dev=1，右侧图表属性会出现自定义属性设置

<img src="/img/iShot2022-02-08 15.14.50.png"  width="500"   />

3、点击弹窗内输入需要传给组件的属性

<img src="/img/iShot2022-02-08 15.16.05.png"  width="500"   />

4、组件内获取自定义属性，例如组件A为原始组件，新需求需要隐藏组件A的头部，这时可以直接在组件A上进行修改。

```
// 模版上设置的自定义属性都会挂在injectAttr上 组件内可以这样取
const { IshideHeader = false } = props.injectAttr || {};
if(IshideHeader){
	...
}
```



